!function(o){"use strict";o(document).ready(function(){o(".div-signin-loading img").addClass("hidden").hide(),o("form").submit(function(e){o("#btnLogin").hide(),o(".div-signin-loading img").removeClass("hidden").show(),e.preventDefault(),o("#btnLogin").addClass("disabled").disabled=!0,o.ajax({url:"token",method:"POST",data:{username:o("#username").val(),password:o("#password-input").val(),grant_type:"password"},success:function(e,s,t){200==t.status&&(o("#btnLogin").disabled=!1,o("#divError").hide(),sessionStorage.setItem("data",JSON.stringify(e)),sessionStorage.setItem("accessToken",e.access_token),sessionStorage.setItem("userName",e.userName),sessionStorage.setItem("email",e.email),sessionStorage.setItem("accountType",e.accountType),window.location.href=0==e.clientId?"reset.html":home)},error:function(e){o("#btnLogin").removeClass("disabled"),o("#btnLogin").disabled=!1,console.log(e),500==e.status?(o("#hModalTitle").text("ERROR"),o("#divErrorText").text("Oops! Something went wrong! Please contact your BI administrator.")):(o("#hModalTitle").text(e.responseJSON.error),o("#divErrorText").text(e.responseJSON.error_description)),o("#btnLogin").removeClass("hidden").show(),o(".div-signin-loading img").addClass("hidden").hide(),o("#myModal").modal("show")}})}),o("#linkClose").click(function(){o("#divError").hide("fade")})})}(jQuery);